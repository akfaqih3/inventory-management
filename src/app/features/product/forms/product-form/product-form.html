<div class="relative bg-white rounded-xl shadow-2xl w-full max-w-md p-6 transform transition-all">
  <div class="flex justify-between items-center border-b pb-3 mb-4">
    <h3 class="text-xl font-bold text-gray-800">Add Product</h3>
    <button (click)="close()"  class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
  </div>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="flex flex-col gap-4">
      <div class="flex flex-col gap-2">
        <label class="text-sm font-semibold text-heading">Name</label>
        <input type="text" formControlName="name" class="block w-full px-4 py-2 bg-white border border-default text-body rounded-xl focus:ring-2 focus:ring-fg-brand/20 focus:border-fg-brand focus:bg-white transition-all duration-200">
        @if(productName.touched && productName.invalid) {
          @if(productName.getError('required')) {
            <span class="text-red-500 text-xs">Name is required</span>
          }
          @if(productName.getError('minlength')) {
            <span class="text-red-500 text-xs">Name must be at least 3 characters</span>
          }
        }
      </div>
      <div class="flex flex-col gap-2">
        <label class="text-sm font-semibold text-heading">Category</label>
        <select formControlName="category" class="block w-full px-4 py-2 bg-white border border-default text-body rounded-xl focus:ring-2 focus:ring-fg-brand/20 focus:border-fg-brand focus:bg-white transition-all duration-200">
          @for(category of categories; track category.id) {
            <option [value]="category.id">{{category.name}}</option>
          }
        </select>
        @if(productCategory.touched && productCategory.invalid) {
          @if(productCategory.getError('required')) {
            <span class="text-red-500 text-xs">Category is required</span>
          }
        }
      </div>
      <div class="flex flex-col gap-2">
        <label class="text-sm font-semibold text-heading">Price</label>
        <input type="number" formControlName="price" class="block w-full px-4 py-2 bg-white border border-default text-body rounded-xl focus:ring-2 focus:ring-fg-brand/20 focus:border-fg-brand focus:bg-white transition-all duration-200">
        @if(productPrice.touched && productPrice.invalid) {
          @if(productPrice.getError('min')) {
            <span class="text-red-500 text-xs">Price must be at least 1</span>
          }
          @if(productPrice.getError('required')) {
            <span class="text-red-500 text-xs">Price is required</span>
          }
        }
      </div>
      <div class="flex flex-col gap-2">
        <label class="text-sm font-semibold text-heading">Quantity</label>
        <input type="number" formControlName="quantity" class="block w-full px-4 py-2 bg-white border border-default text-body rounded-xl focus:ring-2 focus:ring-fg-brand/20 focus:border-fg-brand focus:bg-white transition-all duration-200">

        @if(productQuantity.touched && productQuantity.invalid) {
          @if(productQuantity.getError('min')) {
            <span class="text-red-500 text-xs">Quantity must a positive number</span>
          }
          @if(productQuantity.getError('required')) {
            <span class="text-red-500 text-xs">Quantity is required</span>
          }
        }
      </div>
    </div>

    <div class="flex justify-end gap-4">
      <button type="submit" class="px-4 py-2 cursor-pointer text-sm font-semibold text-white bg-fg-brand rounded-xl hover:bg-fg-brand-hover shadow-lg shadow-fg-brand/20 transition-all duration-200">
        @if(productEditable()) {
          save
        }@else{
          add product
        }
      </button>
    </div>
  </form>
</div>